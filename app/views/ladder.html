{% extends "base.html" %}
{% block content %}

<h1>Tilastot</h1>
<h4>Show options</h4>
<div>

    <ul class="floatingList">
        <li>Won <input type="checkbox" name="Won" value="ON" checked="checked" /></li>
        <li>Ties <input type="checkbox" name="Ties" value="ON" checked="checked" /></li>
        <li>Lost <input type="checkbox" name="Lost" value="ON" checked="checked" /></li>
        <li>Elo <input type="checkbox" name="Elo" value="ON" checked="checked" /></li>
        <li>Best Streak <input type="checkbox" name="Best Streak" value="ON" checked="checked" /></li>
        <li>Current Streak <input type="checkbox" name="Current Streak" value="ON" checked="checked" /></li>
        <li>Avarage Streak <input type="checkbox" name="Avarage Streak" value="ON" checked="checked" /></li>

    </ul>
</div>

<table class="ladders" sortable="true" id="tilasto">
    <tr>
        <th onclick="sortTable(0)">Rank</th>
        <th onclick="sortTable(1)">Nickname</th>
        <th onclick="sortTable(2)">Won</th>
        <th onclick="sortTable(3)">Ties</th>
        <th onclick="sortTable(4)">Lost</th>
        <th onclick="sortTable(5)">Elo</th>
        <th onclick="sortTable(6)">Best Streak</th>
        <th onclick="sortTable(7)">Current Streak</th>
        <th onclick="sortTable(8)">Avarage Streak</th>
    </tr>
    <tr >
        <td>1</td>
        <td>Omppu</td>
        <td>999</td>
        <td>10</td>
        <td>2</td>
        <td>2140</td>
        <td>997</td>
        <td>997</td>
        <td>997</td>
    </tr>

    <tr>
        <td>2</td>
        <td>TEster</td>
        <td>51</td>
        <td>3</td>
        <td>501</td>
        <td>23</td>
        <td>41</td>
        <td>45</td>
        <td>47</td>
    </tr>

    <tr>
        <td>3</td>
        <td>TEster1</td>
        <td>52</td>
        <td>4</td>
        <td>502</td>
        <td>22</td>
        <td>42</td>
        <td>46</td>
        <td>48</td>
    </tr>
    <tr>
        <td>4</td>
        <td>TEster2</td>
        <td>53</td>
        <td>5</td>
        <td>503</td>
        <td>21</td>
        <td>43</td>
        <td>47</td>
        <td>48</td>
    </tr>


</table>

<script>

    function sortTable(n) {
        var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
        table = document.getElementById("tilasto");
        switching = true;
        //Set the sorting direction to ascending:
        dir = "asc";
        /*Make a loop that will continue until
         no switching has been done:*/
        while (switching) {
            //start by saying: no switching is done:
            switching = false;
            rows = table.getElementsByTagName("TR");
            /*Loop through all table rows (except the
             first, which contains table headers):*/
            for (i = 1; i < (rows.length - 1); i++) {
                //start by saying there should be no switching:
                shouldSwitch = false;
                /*Get the two elements you want to compare,
                 one from current row and one from the next:*/
                x = rows[i].getElementsByTagName("TD")[n];
                y = rows[i + 1].getElementsByTagName("TD")[n];
                /*check if the two rows should switch place,
                 based on the direction, asc or desc:*/
                if (dir == "asc") {
                    if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
                        //if so, mark as a switch and break the loop:
                        shouldSwitch = true;
                        break;
                    }
                } else if (dir == "desc") {
                    if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
                        //if so, mark as a switch and break the loop:
                        shouldSwitch = true;
                        break;
                    }
                }
            }
            if (shouldSwitch) {
                /*If a switch has been marked, make the switch
                 and mark that a switch has been done:*/
                rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                switching = true;
                //Each time a switch is done, increase this count by 1:
                switchcount++;
            } else {
                /*If no switching has been done AND the direction is "asc",
                 set the direction to "desc" and run the while loop again.*/
                if (switchcount == 0 && dir == "asc") {
                    dir = "desc";
                    switching = true;
                }
            }
        }
    }



</script>



{% endblock %}